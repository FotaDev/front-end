!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("moment"),require("@angular/core"),require("@angular/forms"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","moment","@angular/core","@angular/forms","rxjs/operators","@angular/common"],e):e(t["angular-bootstrap-datetimepicker"]={},t.moment,t.ng.core,t.ng.forms,t.Rx.Observable.prototype,t.ng.common)}(this,function(t,e,o,a,n,r){"use strict";var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};function i(t,e){function o(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var u=function(){},s=e,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.fromMilliseconds=function(t){return s(t)},e.prototype.toMilliseconds=function(t){return t?t.valueOf():undefined},e}(u),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.fromMilliseconds=function(t){return new Date(t)},e.prototype.toMilliseconds=function(t){return t?t.getTime():undefined},e}(u),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.fromMilliseconds=function(t){return t},e.prototype.toMilliseconds=function(t){return t},e}(u),f=function(){function t(t){this._value=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),t}(),h=e,v=function(){function t(){}return t.getStartOfDecade=function(t){var e=10*Math.trunc(h(t).year()/10);return h({year:e}).startOf("year")},t.prototype.onChanges=function(t){},t.prototype.getModel=function(e,o){var a=[0,1,2,3,4],n=h(e).startOf("year"),r=t.getStartOfDecade(e),l=r.year()+9,i=r.year(),u=n.valueOf(),s=null===o||o===undefined?o:h(o).startOf("year").valueOf(),d={viewName:"year",viewLabel:i+"-"+l,activeDate:u,leftButton:{value:h(r).subtract(10,"years").valueOf(),ariaLabel:"Go to "+(i-10)+"-"+(i-1),classes:{}},rightButton:{value:h(r).add(10,"years").valueOf(),ariaLabel:"Go to "+(l+1)+"-"+(l+10),classes:{}},rows:[0,1].map(function(t){var e=h();return{cells:a.map(function(o){var n=h(r).add(t*a.length+o,"years");return{display:n.format("YYYY"),value:n.valueOf(),classes:{"dl-abdtp-active":u===n.valueOf(),"dl-abdtp-selected":s===n.valueOf(),"dl-abdtp-now":n.isSame(e,"year")}}})}}.bind(this))};return d.leftButton.classes[""+d.leftButton.value]=!0,d.rightButton.classes[""+d.rightButton.value]=!0,d},t.prototype.goDown=function(t,e){return this.getModel(h(t).add(5,"year").valueOf(),e)},t.prototype.goUp=function(t,e){return this.getModel(h(t).subtract(5,"year").valueOf(),e)},t.prototype.goLeft=function(t,e){return this.getModel(h(t).subtract(1,"year").valueOf(),e)},t.prototype.goRight=function(t,e){return this.getModel(h(t).add(1,"year").valueOf(),e)},t.prototype.pageDown=function(t,e){return this.getModel(h(t).add(10,"year").valueOf(),e)},t.prototype.pageUp=function(t,e){return this.getModel(h(t).subtract(10,"year").valueOf(),e)},t.prototype.goEnd=function(e,o){return this.getModel(t.getStartOfDecade(e).add(9,"years").endOf("year").valueOf(),o)},t.prototype.goHome=function(e,o){return this.getModel(t.getStartOfDecade(e).startOf("year").valueOf(),o)},t}(),g=e,m=function(){function t(){}return t.prototype.onChanges=function(t){},t.prototype.getModel=function(t,e){var o=g(t).startOf("year"),a=[0,1,2,3],n=g(o).subtract(1,"year"),r=g(o).add(1,"year"),l=g(t).startOf("month").valueOf(),i=null===e||e===undefined?e:g(e).startOf("month").valueOf(),u={viewName:"month",viewLabel:o.format("YYYY"),activeDate:l,leftButton:{value:n.valueOf(),ariaLabel:"Go to "+n.format("YYYY"),classes:{}},upButton:{value:o.valueOf(),ariaLabel:"Go to "+o.format("YYYY"),classes:{}},rightButton:{value:r.valueOf(),ariaLabel:"Go to "+r.format("YYYY"),classes:{}},rows:[0,1,2].map(function(t){var e=g();return{cells:a.map(function(n){var r=g(o).add(t*a.length+n,"months");return{display:r.format("MMM"),ariaLabel:r.format("MMM YYYY"),value:r.valueOf(),classes:{"dl-abdtp-active":l===r.valueOf(),"dl-abdtp-selected":i===r.valueOf(),"dl-abdtp-now":r.isSame(e,"month")}}})}})};return u.leftButton.classes[""+u.leftButton.value]=!0,u.rightButton.classes[""+u.rightButton.value]=!0,u},t.prototype.goDown=function(t,e){return this.getModel(g(t).add(4,"month").valueOf(),e)},t.prototype.goUp=function(t,e){return this.getModel(g(t).subtract(4,"month").valueOf(),e)},t.prototype.goLeft=function(t,e){return this.getModel(g(t).subtract(1,"month").valueOf(),e)},t.prototype.goRight=function(t,e){return this.getModel(g(t).add(1,"month").valueOf(),e)},t.prototype.pageDown=function(t,e){return this.getModel(g(t).add(12,"months").valueOf(),e)},t.prototype.pageUp=function(t,e){return this.getModel(g(t).subtract(12,"months").valueOf(),e)},t.prototype.goEnd=function(t,e){return this.getModel(g(t).endOf("year").valueOf(),e)},t.prototype.goHome=function(t,e){return this.getModel(g(t).startOf("year").valueOf(),e)},t}(),b=e,y=function(){function t(){}return t.prototype.onChanges=function(t){},t.prototype.getModel=function(t,e){var o=b(t).startOf("month"),a=b(t).endOf("month"),n=b(o).subtract(Math.abs(o.weekday()),"days"),r=[0,1,2,3,4,5,6],l=b(o).subtract(1,"month"),i=b(o).add(1,"month"),u=b(t).startOf("day").valueOf(),s=null===e||e===undefined?e:b(e).startOf("day").valueOf(),d={viewName:"day",viewLabel:o.format("MMM YYYY"),activeDate:u,leftButton:{value:l.valueOf(),ariaLabel:"Go to "+l.format("MMM YYYY"),classes:{}},upButton:{value:o.valueOf(),ariaLabel:"Go to month view",classes:{}},rightButton:{value:i.valueOf(),ariaLabel:"Go to "+i.format("MMM YYYY"),classes:{}},rowLabels:r.map(function(t){return b().weekday(t).format("dd")}),rows:[0,1,2,3,4,5].map(function(t){var e=b();return{cells:r.map(function(l){var i=b(n).add(t*r.length+l,"days");return{display:i.format("D"),ariaLabel:i.format("ll"),value:i.valueOf(),classes:{"dl-abdtp-active":u===i.valueOf(),"dl-abdtp-future":i.isAfter(a),"dl-abdtp-past":i.isBefore(o),"dl-abdtp-selected":s===i.valueOf(),"dl-abdtp-now":i.isSame(e,"day")}}})}})};return d.leftButton.classes[""+d.leftButton.value]=!0,d.rightButton.classes[""+d.rightButton.value]=!0,d},t.prototype.goDown=function(t,e){return this.getModel(b(t).add(7,"days").valueOf(),e)},t.prototype.goUp=function(t,e){return this.getModel(b(t).subtract(7,"days").valueOf(),e)},t.prototype.goLeft=function(t,e){return this.getModel(b(t).subtract(1,"day").valueOf(),e)},t.prototype.goRight=function(t,e){return this.getModel(b(t).add(1,"day").valueOf(),e)},t.prototype.pageDown=function(t,e){return this.getModel(b(t).add(1,"month").valueOf(),e)},t.prototype.pageUp=function(t,e){return this.getModel(b(t).subtract(1,"month").valueOf(),e)},t.prototype.goEnd=function(t,e){return this.getModel(b(t).endOf("month").startOf("day").valueOf(),e)},t.prototype.goHome=function(t,e){return this.getModel(b(t).startOf("month").valueOf(),e)},t}(),O=e,w=function(){function t(){}return t.prototype.onChanges=function(t){},t.prototype.getModel=function(t,e){var o=O(t).startOf("day"),a=[0,1,2,3],n=O(o).subtract(1,"day"),r=O(o).add(1,"day"),l=O(t).startOf("hour").valueOf(),i=null===e||e===undefined?e:O(e).startOf("hour").valueOf(),u={viewName:"hour",viewLabel:o.format("ll"),activeDate:l,leftButton:{value:n.valueOf(),ariaLabel:"Go to "+n.format("ll"),classes:{}},upButton:{value:o.valueOf(),ariaLabel:"Go to "+o.format("MMM YYYY"),classes:{}},rightButton:{value:r.valueOf(),ariaLabel:"Go to "+r.format("ll"),classes:{}},rows:[0,1,2,3,4,5].map(function(t){var e=O();return{cells:a.map(function(n){var r=O(o).add(t*a.length+n,"hours");return{display:r.format("LT"),ariaLabel:r.format("LLL"),value:r.valueOf(),classes:{"dl-abdtp-active":l===r.valueOf(),"dl-abdtp-selected":i===r.valueOf(),"dl-abdtp-now":r.isSame(e,"hour")}}})}})};return u.leftButton.classes[""+u.leftButton.value]=!0,u.rightButton.classes[""+u.rightButton.value]=!0,u},t.prototype.goDown=function(t,e){return this.getModel(O(t).add(4,"hour").valueOf(),e)},t.prototype.goUp=function(t,e){return this.getModel(O(t).subtract(4,"hour").valueOf(),e)},t.prototype.goLeft=function(t,e){return this.getModel(O(t).subtract(1,"hour").valueOf(),e)},t.prototype.goRight=function(t,e){return this.getModel(O(t).add(1,"hour").valueOf(),e)},t.prototype.pageDown=function(t,e){return this.getModel(O(t).add(1,"day").valueOf(),e)},t.prototype.pageUp=function(t,e){return this.getModel(O(t).subtract(1,"day").valueOf(),e)},t.prototype.goEnd=function(t,e){return this.getModel(O(t).endOf("day").startOf("hour").valueOf(),e)},t.prototype.goHome=function(t,e){return this.getModel(O(t).startOf("day").valueOf(),e)},t}(),M=e,_=function(){function t(){this.step=5}return t.prototype.onChanges=function(t){var e=t.minuteStep;e&&e.previousValue!==e.currentValue&&(this.step=e.currentValue,null!==this.step&&this.step!==undefined||(this.step=5))},t.prototype.getModel=function(t,e){var o=this,a=M(t).startOf("hour"),n=M().valueOf(),r=new Array(Math.ceil(60/this.step)).fill(0).map(function(t,e){return e*o.step}),l=r.map(function(t){return M(a).add(t,"minutes").valueOf()}),i=M(l.filter(function(e){return e<=t}).pop()).valueOf(),u=n>=a.valueOf()&&n<=M(a).endOf("hour").valueOf()?M(l.filter(function(t){return t<=n}).pop()).valueOf():null,s=M(a).subtract(1,"hour"),d=M(a).add(1,"hour"),p=null===e||e===undefined?e:M(l.filter(function(t){return t<=e}).pop()).valueOf(),c=new Array(Math.ceil(r.length/4)).fill(0).map(function(t,e){return e}).map(function(t){return{cells:r.slice(4*t,4*t+4).map(h)}}),f={viewName:"minute",viewLabel:a.format("lll"),activeDate:i,leftButton:{value:s.valueOf(),ariaLabel:"Go to "+s.format("lll"),classes:{}},upButton:{value:a.valueOf(),ariaLabel:"Go to "+a.format("ll"),classes:{}},rightButton:{value:d.valueOf(),ariaLabel:"Go to "+d.format("lll"),classes:{}},rows:c};return f.leftButton.classes[""+f.leftButton.value]=!0,f.rightButton.classes[""+f.rightButton.value]=!0,f;function h(t){var e=M(a).add(t,"minutes");return{display:e.format("LT"),ariaLabel:e.format("LLL"),value:e.valueOf(),classes:{"dl-abdtp-active":i===e.valueOf(),"dl-abdtp-selected":p===e.valueOf(),"dl-abdtp-now":u===e.valueOf()}}}},t.prototype.goDown=function(t,e){return this.getModel(M(t).add(4*this.step,"minutes").valueOf(),e)},t.prototype.goUp=function(t,e){return this.getModel(M(t).subtract(4*this.step,"minutes").valueOf(),e)},t.prototype.goLeft=function(t,e){return this.getModel(M(t).subtract(this.step,"minutes").valueOf(),e)},t.prototype.goRight=function(t,e){return this.getModel(M(t).add(this.step,"minutes").valueOf(),e)},t.prototype.pageDown=function(t,e){return this.getModel(M(t).add(1,"hour").valueOf(),e)},t.prototype.pageUp=function(t,e){return this.getModel(M(t).subtract(1,"hour").valueOf(),e)},t.prototype.goEnd=function(t,e){return this.getModel(M(t).endOf("hour").valueOf(),e)},t.prototype.goHome=function(t,e){return this.getModel(M(t).startOf("hour").valueOf(),e)},t}(),D=e,L={33:"pageUp",34:"pageDown",35:"goEnd",36:"goHome",37:"goLeft",38:"goUp",39:"goRight",40:"goDown"},C=["minute","hour","day","month","year"],B=function(){function t(t,e,a,n,r,l,i,u){this._elementRef=t,this._ngZone=e,this._dateAdapter=a,this.yearModelComponent=n,this.monthModelComponent=r,this.dayModelComponent=l,this.hourModelComponent=i,this.minuteModelComponent=u,this.leftIconClass=["oi","oi-chevron-left"],this.maxView="year",this.minuteStep=5,this.minView="minute",this.rightIconClass=["oi","oi-chevron-right"],this.startView="day",this.upIconClass=["oi","oi-chevron-top"],this.change=new o.EventEmitter,this._changed=[],this._nextView={year:"month",month:"day",day:"hour",hour:"minute"},this._previousView={minute:"hour",hour:"day",day:"month",month:"year"},this._touched=[],this.selectFilter=function(){return!0},this._viewToModelProvider={year:n,month:r,day:l,hour:i,minute:u}}return t.prototype.ngOnChanges=function(t){var e=this;Object.keys(this._viewToModelProvider).map(function(t){return e._viewToModelProvider[t]}).forEach(function(e){return e.onChanges(t)}),this._model&&(this.model=this._viewToModelProvider[this._model.viewName].getModel(this._model.activeDate,this.valueOf))},t.prototype.ngOnInit=function(){this.model=this._viewToModelProvider[this.getStartView()].getModel(this.getStartDate(),this.valueOf)},t.prototype._onDateClick=function(t){if(!t.classes["dl-abdtp-disabled"]){var e=this._nextView[this._model.viewName];(this.minView||"minute")===this._model.viewName&&(this.value=this._dateAdapter.fromMilliseconds(t.value),e=this.startView),this.model=this._viewToModelProvider[e].getModel(t.value,this.valueOf),this.onTouch()}},t.prototype._onLeftClick=function(){this.model=this._viewToModelProvider[this._model.viewName].getModel(this._model.leftButton.value,this.valueOf),this.onTouch()},t.prototype._onUpClick=function(){this.model=this._viewToModelProvider[this._previousView[this._model.viewName]].getModel(this._model.upButton.value,this.valueOf)},t.prototype._onRightClick=function(){this.model=this._viewToModelProvider[this._model.viewName].getModel(this._model.rightButton.value,this.valueOf),this.onTouch()},t.prototype._handleKeyDown=function(t){var e=L[t.keyCode];if(e){var o=this._viewToModelProvider[this._model.viewName];this.model=o[e](this._model.activeDate,this.valueOf),this.focusActiveCell(),event.preventDefault()}},t.prototype.applySelectFilter=function(t){var e=this;return this.selectFilter&&(t.rows=t.rows.map(function(o){return o.cells.map(function(o){var a=!e.selectFilter(o,t.viewName);return o.classes["dl-abdtp-disabled"]=a,a&&(o.classes["aria-disabled"]=!0),o}),o})),t},t.prototype.focusActiveCell=function(){var t=this;this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.asObservable().pipe(n.take(1)).subscribe(function(){t._elementRef.nativeElement.querySelector(".dl-abdtp-active").focus()})})},t.prototype.getStartDate=function(){return Y(this._value)?this._value:Y(this.startDate)?this.startDate:D().valueOf()},t.prototype.getStartView=function(){var t=Math.max(C.indexOf(this.minView||"minute"),C.indexOf(this.startView||"day"));return C[t]},Object.defineProperty(t.prototype,"model",{set:function(t){this._model=this.applySelectFilter(t)},enumerable:!0,configurable:!0}),t.prototype.onTouch=function(){this._touched.forEach(function(t){return t()})},t.prototype.registerOnChange=function(t){this._changed.push(t)},t.prototype.registerOnTouched=function(t){this._touched.push(t)},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value!==t&&(this._value=t,this.model=this._viewToModelProvider[this._model.viewName].getModel(this.getStartDate(),this.valueOf),this._changed.forEach(function(e){return e(t)}),this.change.emit(new f(t)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueOf",{get:function(){return this._dateAdapter.toMilliseconds(this._value)},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t},t}();function Y(t){return null!=t}B.decorators=[{type:o.Component,args:[{changeDetection:o.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:B,multi:!0}],selector:"dl-date-time-picker",styles:[":host{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dl-abdtp-col-label,.dl-abdtp-view-label{font-weight:700}.dl-abdtp-date-button,.dl-abdtp-left-button,.dl-abdtp-right-button,.dl-abdtp-view-label{padding:5px;border-radius:999px;cursor:pointer;color:rgba(0,0,0,.87);outline:0}.dl-abdtp-date-button,.dl-abdtp-left-button,.dl-abdtp-right-button,.dl-abdtp-up-button{border-width:0}.dl-abdtp-active:focus,.dl-abdtp-date-button:focus,.dl-abdtp-date-button:hover,.dl-abdtp-left-button:focus,.dl-abdtp-left-button:hover,.dl-abdtp-right-button:focus,.dl-abdtp-right-button:hover,.dl-abdtp-up-button:focus,.dl-abdtp-up-button:hover,.dl-abdtp-view-label:focus{background:rgba(0,0,0,.04)}.dl-abdtp-future,.dl-abdtp-past{color:rgba(0,0,0,.04)}.dl-abdtp-now,.dl-abdtp-now.disabled,.dl-abdtp-now.disabled:hover,.dl-abdtp-now:hover{border-radius:999px;border:1px solid rgba(0,0,0,.25)}.dl-abdtp-selected{color:#fff;background:rgba(0,82,204,.75)}.dl-abdtp-selected:focus,.dl-abdtp-selected:hover{background:#0052cc}.dl-abdtp-disabled{cursor:default;color:rgba(0,0,0,.25)}"],template:'<div class="text-center dl-abdtp-{{_model.viewName}}-view ">\n  <div class="row align-items-center no-gutters">\n    <button class="col dl-abdtp-left-button align-items-center"\n            type="button"\n            [attr.aria-label]="_model.leftButton.ariaLabel"\n            [attr.title]="_model.leftButton.ariaLabel"\n            [ngClass]="_model.leftButton.classes"\n            (click)="_onLeftClick()">\n      <span class="left-icon" [ngClass]="leftIconClass"></span>\n    </button>\n    <div *ngIf="_model.viewName === (this.maxView || \'year\'); then maxViewLabel else defaultViewLabel;"></div>\n    <button class="col dl-abdtp-right-button"\n            type="button"\n            [attr.aria-label]="_model.rightButton.ariaLabel"\n            [attr.title]="_model.rightButton.ariaLabel"\n            (click)="_onRightClick()"\n            [ngClass]="_model.rightButton.classes">\n      <span class="right-icon" [ngClass]="rightIconClass"></span>\n    </button>\n  </div>\n  <div (keydown)="_handleKeyDown($event)">\n    <div *ngIf="_model.rowLabels?.length" class="row no-gutters">\n      <div *ngFor="let label of _model.rowLabels" class="col align-items-center no-gutters dl-abdtp-col-label">{{label}}</div>\n    </div>\n    <div *ngFor="let row of _model.rows" class="row align-items-center no-gutters">\n      <div *ngFor="let cell of row.cells"\n           role="gridcell"\n           class="col dl-abdtp-date-button dl-abdtp-{{_model.viewName}} {{cell.value}}"\n           [ngClass]="cell.classes"\n           [attr.aria-label]="cell.ariaLabel"\n           [attr.aria-disabled]="cell.classes[\'dl-abdtp-disabled\']"\n           [attr.tabindex]="cell.classes[\'dl-abdtp-active\'] ? 0 : -1"\n           (click)="_onDateClick(cell)"\n           (keydown.space)="_onDateClick(cell)"\n           (keydown.enter)="_onDateClick(cell)"\n      >{{cell.display}}</div>\n    </div>\n  </div>\n</div>\n<ng-template #maxViewLabel>\n  <div class="col-10 dl-abdtp-view-label">{{_model.viewLabel}}</div>\n</ng-template>\n<ng-template #defaultViewLabel>\n  <button class="col-10 dl-abdtp-view-label dl-abdtp-up-button"\n          type="button"\n          [attr.aria-label]="_model.upButton.ariaLabel"\n          [attr.title]="_model.upButton.ariaLabel"\n          (click)="_onUpClick()"\n          [ngClass]="_model.upButton.classes"\n  >{{_model.viewLabel}}&nbsp;<span class="up-icon" [ngClass]="upIconClass"></span>\n  </button>\n</ng-template>\n'}]}],B.ctorParameters=function(){return[{type:o.ElementRef},{type:o.NgZone},{type:u},{type:v},{type:m},{type:y},{type:w},{type:_}]},B.propDecorators={leftIconClass:[{type:o.Input}],maxView:[{type:o.Input}],minuteStep:[{type:o.Input}],minView:[{type:o.Input}],rightIconClass:[{type:o.Input}],startDate:[{type:o.Input}],startView:[{type:o.Input}],upIconClass:[{type:o.Input}],change:[{type:o.Output}],selectFilter:[{type:o.Input}]};var P=function(){};P.decorators=[{type:o.NgModule,args:[{declarations:[B],imports:[r.CommonModule],exports:[B],providers:[v,m,y,w,_]}]}],P.ctorParameters=function(){return[]};var k=function(){};k.decorators=[{type:o.NgModule,args:[{imports:[P],exports:[B],providers:[{provide:u,useClass:c}]}]}],k.ctorParameters=function(){return[]};var x=function(){};x.decorators=[{type:o.NgModule,args:[{imports:[P],exports:[B],providers:[{provide:u,useClass:p}]}]}],x.ctorParameters=function(){return[]};var N=function(){};N.decorators=[{type:o.NgModule,args:[{imports:[P],exports:[B],providers:[{provide:u,useClass:d}]}]}],N.ctorParameters=function(){return[]},t.DlDateAdapter=u,t.DlDateAdapterMoment=d,t.DlDateAdapterNative=p,t.DlDateAdapterNumber=c,t.DlDateTimePickerChange=f,t.DlDateTimePickerComponent=B,t.DlDateTimePickerModule=P,t.DlDateTimePickerNumberModule=k,t.DlDateTimePickerDateModule=x,t.DlDateTimePickerMomentModule=N,t.DlDayModelProvider=y,t.DlHourModelProvider=w,t.DlMinuteModelProvider=_,t.DlMonthModelProvider=m,t.DlYearModelProvider=v,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular-bootstrap-datetimepicker.umd.min.js.map
